# 오늘 남은 작업 체크리스트

## ✅ 완료된 작업

### 1. 가상 유저 계정 생성
- [x] `schema.sql`에 가상 유저 3명 추가
- [x] 프론트엔드 `mockUsers.ts` 생성
- [x] 프로필 전환 시스템 구현 (바텀시트)
- [x] 기본 유저(1번: 김지은) 자동 로그인

### 2. 구매 요약 배너
- [x] 백엔드 API 구현 (`GET /api/users/{user_id}/purchase-summary`)
- [x] 가중치 기반 점수 계산 로직
- [x] 프론트엔드 컴포넌트 구현
- [x] 랜덤 메시지 템플릿 시스템
- [x] 구체적인 상품명 표시

### 3. 문서화
- [x] `RECOMMENDATION_LOGIC_DESIGN.md` 작성
- [x] `IMPLEMENTATION_SUMMARY.md` 작성
- [x] `README.md` 업데이트

---

## 🔄 남은 작업 (우선순위 순)

### 🔴 높은 우선순위

#### 1. 핫한 요리 탭 로직 완성 ✅
**현재 상태**: 로직 구현 완료 (더미데이터 사용 중)

**완료된 작업**:
- [x] 구매하지 않은 상품 필터링 로직 추가
  - 최근 1~2개월 내 구매한 상품만 제외
  - 3개월 전 구매한 상품은 포함 가능
  - 미구매 상품 모두 포함
- [x] 트렌드 상품 선정 로직 구현
  - 밀키트/간편식 우선순위 (100점)
  - 인기도 점수 (리뷰 × 평점)
  - 평점 보너스
  - 키워드 보너스 (밀키트, 간편식, 레토르트)
- [x] 트렌드 점수 기준 정렬 및 상위 30개 표시

**남은 작업**:
- [ ] 실제 구매이력 데이터 연동
  - `getRecentPurchasedProductIds` 함수를 API 호출로 변경
  - 최근 1~2개월 구매이력 API 연동

**파일**: `frontend/app/page.tsx` (75-89줄, 193-213줄)

---

#### 2. 구매이력 기반 추천 정렬 로직 구현
**현재 상태**: 프로필(나이/성별) 기반 점수만 계산 중

**해야 할 일**:
- [ ] 구매이력 데이터 활용한 점수 계산 추가
  - 최근 구매한 상품과 유사한 상품 우선
  - 같은 카테고리 내 미구매 상품 추천
  - 반복 구매 상품 우선순위 상승
- [ ] `calculatePersonalizedScore` 함수 개선
  - 구매이력 점수 추가 (가중치: 50점)
  - 프로필 점수 (현재 구현됨: 50점)
  - 인기도 점수 (현재 구현됨: 10점)
- [ ] 백엔드 API 연동
  - `GET /api/users/{user_id}/purchase-summary` 호출
  - Top 상품 정보 활용

**파일**: `frontend/app/page.tsx` (37-113줄)

---

#### 3. 구매 요약 배너 실제 API 연동
**현재 상태**: 더미데이터 사용 중

**해야 할 일**:
- [ ] `PurchaseSummaryBanner.tsx`에서 API 호출 주석 해제
- [ ] 실제 구매이력 데이터 기반으로 동작하도록 수정
- [ ] 에러 처리 추가

**파일**: `frontend/app/components/PurchaseSummaryBanner.tsx` (약 50줄)

---

### 🟡 중간 우선순위

#### 4. 백엔드 API 완성
**현재 상태**: 기본 구조는 완료, 일부 기능 미완성

**해야 할 일**:
- [ ] `GET /api/products/trending?user_id={id}` 구현
  - 구매하지 않은 상품 중 트렌드 상품 반환
- [ ] `GET /api/products/recommended?user_id={id}` 구현
  - 구매이력 + 프로필 기반 추천 상품 반환
- [ ] 데이터베이스 연결 확인
  - PostgreSQL 연결 설정 확인
  - 환경변수 설정

**파일**: 
- `backend/app/routers/users.py`
- `backend/app/services/purchase_insights.py`

---

#### 5. 구매이력 더미데이터 생성 (동료 작업)
**현재 상태**: 스크립트는 작성 완료, 실행은 동료가 할 예정

**확인 사항**:
- [ ] 동료가 `DATABASE_SETUP_GUIDE.md` 참고하여 실행
- [ ] 구매이력 데이터가 제대로 생성되었는지 확인
- [ ] 각 유저당 50-200건의 데이터 생성 확인

**파일**: `backend/database/load_purchase_history_to_db.py`

---

### 🟢 낮은 우선순위 (선택사항)

#### 6. UI/UX 개선
- [ ] 구매 요약 배너 애니메이션 추가
- [ ] 로딩 상태 개선
- [ ] 에러 메시지 표시

#### 7. 성능 최적화
- [ ] 구매 요약 데이터 캐싱
- [ ] API 호출 최적화

---

## 📝 작업 순서 추천

### 오늘 할 수 있는 작업 (프론트엔드 중심)

1. ✅ **핫한 요리 탭 로직 완성** (완료)
   - 구매하지 않은 상품 필터링 ✅
   - 트렌드 상품 선정 로직 ✅
   - 실제 구매이력 데이터 연동 (예정)

2. **구매이력 기반 추천 정렬 로직** (2-3시간)
   - `calculatePersonalizedScore` 함수 개선
   - 구매이력 점수 추가

3. **구매 요약 배너 API 연동** (30분)
   - 주석 해제 및 테스트

### 백엔드 작업 (백엔드 환경 필요)

4. **트렌드 상품 API 구현** (1-2시간)
5. **추천 상품 API 구현** (2-3시간)

---

## 🎯 오늘 목표

**완료된 작업**:
- ✅ 핫한 요리 탭 로직 완성 (더미데이터 기반)

**남은 작업**:
- [ ] 구매이력 기반 추천 정렬 로직 구현
- [ ] 구매 요약 배너 실제 API 연동
- [ ] 실제 구매이력 데이터 연동 (핫한 요리 탭, 구매 요약 배너)

---

## 💡 참고사항

- 구매이력 더미데이터는 동료가 생성할 예정이므로, 현재는 더미데이터로 작업 가능
- 실제 API 연동은 데이터 생성 후 진행해도 됨
- 프론트엔드 로직은 더미데이터 기반으로 먼저 구현 가능

